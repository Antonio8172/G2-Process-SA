    
<aside class="sidenav">
    <div class="menu-icon">
        <a href="#">
            <img src="/static/img/Logo-ProcessSA.png" alt="Logo de Process SA">
        </a>
    </div>
    <!-- <div class="sidenav__close-icon">
      <i class="fa fa-minus-square fa-2x"></i>
    </div> -->
<style>
    .sidenav__icon {
        width: 30px;
        position: absolute;
        top: 5px;
        left: 5px;
    }
</style>
    
    {% if user.rol_id_rol.rol == 'Administrador' or user.rol_id_rol.rol == 'Diseñador de Procesos' or user.rol_id_rol.rol == 'Funcionario' or user.rol_id_rol.rol == 'Desarrollador' %}

        <ul class="sidenav__list-perfil">
            <a href="{% url 'AppWebHome:perfil' %}">
                <li class="sidenav__list-item" style="position: relative;">
                    <span><img src="/static/img/iconos app/perfilUsuario.png" alt="Imagen de perfil de usuario" class="sidenav__icon"></span>
                    <p class="fs-14px" style="margin: 0px;">{{ user.nombres }} {{ user.apellidos }}</p>
                    {% if user.rol_id_rol.rol == 'Funcionario' %}
                        <p class="fs-12px" style="margin: 0px;">{{ user.jerarquia_id_jerarquia.jerarquia }}</p>
                    {% else %}
                        <p class="fs-12px" style="margin: 0px;">{{ user.rol_id_rol.rol }}</p>
                    {% endif %}
                </li>
            </a>
        </ul>

        <ul class="sidenav__list">
    {% endif %}

    <!-- Funcionario -->
    {% if user.rol_id_rol.rol == 'Funcionario' %}

        <a href="{% url 'AppWebHome:funcionario' %}">
            <li class="sidenav__list-item">
                <span><img src="/static/img/iconos app/home.png" alt="Imagen de home" class="sidenav__icon"></span>    
                Home
            </li>
        </a>
        
        {% if user.jerarquia_id_jerarquia.jerarquia == 'Gerente' or user.jerarquia_id_jerarquia.jerarquia == 'Funcionario' %}

            <button class="accordion">
                <span><img src="/static/img/iconos app/tareas.png" alt="Imagen del crud de tareas" class="sidenav__icon"></span>
                CRUD Tarea
            </button>
            <div class="panel">

                <a href="{% url 'AppWebHome:crearTarea' %}">
                    Crear Nuevas Tareas
                </a>

                <a href="{% url 'AppWebHome:verTareas' %}?page=1">
                    Ver Tareas existentes
                </a>

            </div>
            
            <a href="{% url 'AppWebHome:verUsuarios' %}">
                <li class="sidenav__list-item">
                    <span><img src="/static/img/iconos app/empleados1.png" alt="Imagen para ver subordinados" class="sidenav__icon"></span>
                    Ver Subordinados
                </li>
            </a>
        {% elif user.jerarquia_id_jerarquia.jerarquia == 'Subordinado' %}
        
            <a href="{% url 'AppWebHome:verTareas' %}?page=1">
                <li class="sidenav__list-item">
                    <span><img src="/static/img/iconos app/tareas.png" alt="Imagen para ver tareas" class="sidenav__icon"></span>    
                    Ver mis Tareas
                </li>
            </a>

        {% endif %}

        <a href="{% url 'AppWebHome:verFlujos' %}">
            <li class="sidenav__list-item">
                <span><img src="/static/img/iconos app/flujo.png" alt="Imagen para ver flujos" class="sidenav__icon"></span>    
                Ver Flujos
            </li>
        </a>

        
        {% if user.jerarquia_id_jerarquia.jerarquia == 'Gerente' %}
            <a href="{% url 'AppWebHome:panelControl' %}">
                <li class="sidenav__list-item">
                    <span><img src="/static/img/iconos app/analitica.png" alt="Imagen para ver panel de control" class="sidenav__icon"></span>    
                    Ver Panel de Control
                </li>
            </a>
        {% endif %}
            

    <!-- Diseñador de Procesos -->
    {% elif user.rol_id_rol.rol == 'Diseñador de Procesos' %}

        <a href="{% url 'AppWebHome:diseñador' %}">
            <li class="sidenav__list-item">
                <span><img src="/static/img/iconos app/home.png" alt="Imagen del home" class="sidenav__icon"></span>    
                Home
            </li>
        </a>

        <button class="accordion">
            <span><img src="/static/img/iconos app/flujo.png" alt="Imagen del crud de flujos" class="sidenav__icon"></span>    
            CRUD Flujo
        </button>
        <div class="panel">

            <a href="{% url 'AppWebHome:crearFlujo' %}">
                Crear nuevos Flujos
            </a>

            <a href="{% url 'AppWebHome:verFlujos' %}">
                Ver Flujos existentes
            </a>

        </div>

    <!-- Administrador -->
    {% elif user.rol_id_rol.rol == 'Administrador' %}

        <a href="{% url 'AppWebHome:administrador' %}">
            <li class="sidenav__list-item">
                <span><img src="/static/img/iconos app/home.png" alt="Imagen del home" class="sidenav__icon"></span>
                Home
            </li>
        </a>

        <button class="accordion">
            <span><img src="/static/img/iconos app/tareas.png" alt="Imagen del crud de tareas" class="sidenav__icon"></span>
            CRUD Tarea
        </button>
        <div class="panel">

            <a href="{% url 'AppWebHome:crearTarea' %}">
                Crear Nuevas Tareas
            </a>

            <a href="{% url 'AppWebHome:verTareas' %}?page=1">
                Ver Tareas existentes
            </a>

        </div>

        <button class="accordion">
            <span><img src="/static/img/iconos app/flujo.png" alt="Imagen del crud de flujos" class="sidenav__icon"></span>    
            CRUD Flujo
        </button>
        <div class="panel">

            <a href="{% url 'AppWebHome:crearFlujo' %}">
                Crear Nuevos Flujos
            </a>

            <a href="{% url 'AppWebHome:verFlujos' %}">
                Ver Flujos existentes
            </a>

        </div>

        <button class="accordion">
            <span><img src="/static/img/iconos app/empleados.png" alt="Imagen del crud de usuarios" class="sidenav__icon"></span>
            CRUD Usuario
        </button>
        <div class="panel">

            <a href="{% url 'AppWebHome:crearUsuario' %}">
                Crear Nuevos Usuarios
            </a>

            <a href="{% url 'AppWebHome:verUsuarios' %}">
                Ver Usuarios existentes
            </a>

        </div>

        <a href="{% url 'AppWebHome:crudJerarquia' %}">
            <li class="sidenav__list-item">
                <span><img src="/static/img/iconos app/jerarquia.png" alt="Imagen del crud de jerarquías" class="sidenav__icon"></span>
                CRUD Jerarquía
            </li>
        </a>

        <a href="{% url 'AppWebHome:crudRol' %}">
            <li class="sidenav__list-item">
                <span><img src="/static/img/iconos app/roles.png" alt="Imagen del crud de roles" class="sidenav__icon"></span>
                CRUD Rol
            </li>
        </a>

        <a href="{% url 'AppWebHome:crudUnidad' %}">
            <li class="sidenav__list-item">
                <span><img src="/static/img/iconos app/unidad.png" alt="Imagen del crud de unidades" class="sidenav__icon"></span>
                CRUD Unidad
            </li>
        </a>

    {% else %}

        <ul class="sidenav__list" style="margin-top: 85px;">

            <a href="{% url 'AppWebHome:home' %}">
                <li class="sidenav__list-item">
                    <span><img src="/static/img/iconos app/home.png" alt="Imagen del home class="sidenav__icon"></span>
                    Home
                </li>
            </a>

            <a href="{% url 'AppWebHome:login' %}">
                <li class="sidenav__list-item">
                    <span><img src="/static/img/iconos app/acceso.png" alt="Imagen para iniciar sesión" class="sidenav__icon"></span>
                    Iniciar Sesión
                </li>
            </a>

        </ul>

    {% endif %}

    {% if user.rol_id_rol.rol == 'Administrador' or user.rol_id_rol.rol == 'Diseñador de Procesos' or user.rol_id_rol.rol == 'Funcionario' or user.rol_id_rol.rol == 'Desarrollador' %}
        </ul>

        <div class="sidenav__list-logout">
            <!-- margin-top: 290px; -->
            <a href="{% url 'AppWebHome:logout' %}">
                <li class="sidenav__list-item">
                    <span><img src="/static/img/iconos app/salida.png" alt="Imagen para cerrar sesión" class="sidenav__icon"></span>
                    Cerrar Sesión
                </li>
            </a>
            <!-- <script>
                
                function salirSesion() {
                        Swal.fire({
                            "title": "Sesión cerrada",
                            "text": "¡La sesión ha sido cerrada con éxito!",
                            "icon": "success"
                        })
                }
            </script> -->
        </div>

    {% endif %}

</aside>

<script>
    var acc = document.querySelectorAll(".accordion");
    var active = null;

    acc.forEach((item, i) => {
    item.addEventListener("click", function () {
        this.classList.toggle("active");
        var panel = this.nextElementSibling;
        
        if(active) {
            active.style.maxHeight = null;
        }
        
        if(panel !== active) {
            panel.style.maxHeight = panel.scrollHeight + "px";
            active = panel
        } else {
            active = null
        }

        
    });
    }); 
</script>